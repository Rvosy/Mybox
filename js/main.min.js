document.addEventListener("DOMContentLoaded",()=>{let headerContentWidth,$nav,mobileSidebarOpen=!1;const adjustMenu=init=>{const getAllWidth=ele=>Array.from(ele).reduce((width,i)=>width+i.offsetWidth,0);if(init){const blogInfoWidth=getAllWidth(document.querySelector("#blog-info > a").children),menusWidth=getAllWidth(document.getElementById("menus").children);headerContentWidth=blogInfoWidth+menusWidth,$nav=document.getElementById("nav")}const hideMenuIndex=window.innerWidth<=768||headerContentWidth>$nav.offsetWidth-120;$nav.classList.toggle("hide-menu",hideMenuIndex)},initAdjust=()=>{adjustMenu(!0),$nav.classList.add("show")},sidebarFn_open=()=>{btf.overflowPaddingR.add(),btf.animateIn(document.getElementById("menu-mask"),"to_show 0.5s"),document.getElementById("sidebar-menus").classList.add("open"),mobileSidebarOpen=!0},sidebarFn_close=()=>{btf.overflowPaddingR.remove(),btf.animateOut(document.getElementById("menu-mask"),"to_hide 0.5s"),document.getElementById("sidebar-menus").classList.remove("open"),mobileSidebarOpen=!1},scrollDownInIndex=()=>{const handleScrollToDest=()=>{btf.scrollToDest(document.getElementById("content-inner").offsetTop,300)},$scrollDownEle=document.getElementById("scroll-down");$scrollDownEle&&btf.addEventListenerPjax($scrollDownEle,"click",handleScrollToDest)},addHighlightTool=()=>{const highLight=GLOBAL_CONFIG.highlight;if(!highLight)return;const{highlightCopy:highlightCopy,highlightLang:highlightLang,highlightHeightLimit:highlightHeightLimit,highlightFullpage:highlightFullpage,highlightMacStyle:highlightMacStyle,plugin:plugin}=highLight,isHighlightShrink=GLOBAL_CONFIG_SITE.isHighlightShrink,isShowTool=highlightCopy||highlightLang||void 0!==isHighlightShrink||highlightFullpage||highlightMacStyle,$figureHighlight="highlight.js"===plugin?document.querySelectorAll("figure.highlight"):document.querySelectorAll('pre[class*="language-"]');if(!isShowTool&&!highlightHeightLimit||!$figureHighlight.length)return;const isPrismjs="prismjs"===plugin,highlightShrinkClass=!0===isHighlightShrink?"closed":"",highlightShrinkEle=void 0!==isHighlightShrink?'<i class="fas fa-angle-down expand"></i>':"",highlightCopyEle=highlightCopy?'<div class="copy-notice"></div><i class="fas fa-paste copy-button"></i>':"",highlightMacStyleEle='<div class="macStyle"><div class="mac-close"></div><div class="mac-minimize"></div><div class="mac-maximize"></div></div>',highlightFullpageEle=highlightFullpage?'<i class="fa-solid fa-up-right-and-down-left-from-center fullpage-button"></i>':"",alertInfo=(ele,text)=>{void 0!==GLOBAL_CONFIG.Snackbar?btf.snackbarShow(text):(ele.textContent=text,ele.style.opacity=1,setTimeout(()=>{ele.style.opacity=0},800))},copy=async(text,ctx)=>{try{await navigator.clipboard.writeText(text),alertInfo(ctx,GLOBAL_CONFIG.copy.success)}catch(err){console.error("Failed to copy: ",err),alertInfo(ctx,GLOBAL_CONFIG.copy.noSupport)}},highlightCopyFn=(ele,clickEle)=>{const $buttonParent=ele.parentNode;$buttonParent.classList.add("copy-true");const preCodeSelector=isPrismjs?"pre code":"table .code pre",codeElement=$buttonParent.querySelector(preCodeSelector);codeElement&&(copy(codeElement.innerText,clickEle.previousElementSibling),$buttonParent.classList.remove("copy-true"))},highlightShrinkFn=ele=>ele.classList.toggle("closed"),codeFullpage=(item,clickEle)=>{const wrapEle=item.closest("figure.highlight"),isFullpage=wrapEle.classList.toggle("code-fullpage");document.body.style.overflow=isFullpage?"hidden":"",clickEle.classList.toggle("fa-down-left-and-up-right-to-center",isFullpage),clickEle.classList.toggle("fa-up-right-and-down-left-from-center",!isFullpage)},highlightToolsFn=e=>{const $target=e.target.classList,currentElement=e.currentTarget;$target.contains("expand")?highlightShrinkFn(currentElement):$target.contains("copy-button")?highlightCopyFn(currentElement,e.target):$target.contains("fullpage-button")&&codeFullpage(currentElement,e.target)},expandCode=e=>e.currentTarget.classList.toggle("expand-done"),getActualHeight=item=>{const hiddenElements=new Map,fix=()=>{let current=item;for(;current!==document.body&&null!=current;)"none"===window.getComputedStyle(current).display&&hiddenElements.set(current,current.getAttribute("style")||""),current=current.parentNode;const style="visibility: hidden !important; display: block !important;";hiddenElements.forEach((originalStyle,elem)=>{elem.setAttribute("style",originalStyle?originalStyle+";"+style:style)})},restore=()=>{hiddenElements.forEach((originalStyle,elem)=>{""===originalStyle?elem.removeAttribute("style"):elem.setAttribute("style",originalStyle)})};fix();const height=item.offsetHeight;return restore(),height},createEle=(lang,item)=>{const fragment=document.createDocumentFragment();if(isShowTool){const hlTools=document.createElement("div");hlTools.className=`highlight-tools ${highlightShrinkClass}`,hlTools.innerHTML=highlightMacStyleEle+highlightShrinkEle+lang+highlightCopyEle+highlightFullpageEle,btf.addEventListenerPjax(hlTools,"click",highlightToolsFn),fragment.appendChild(hlTools)}if(highlightHeightLimit&&getActualHeight(item)>highlightHeightLimit+30){const ele=document.createElement("div");ele.className="code-expand-btn",ele.innerHTML='<i class="fas fa-angle-double-down"></i>',btf.addEventListenerPjax(ele,"click",expandCode),fragment.appendChild(ele)}isPrismjs?item.parentNode.insertBefore(fragment,item):item.insertBefore(fragment,item.firstChild)};$figureHighlight.forEach(item=>{let langName="";isPrismjs&&btf.wrap(item,"figure",{class:"highlight"}),highlightLang?(isPrismjs?langName=item.getAttribute("data-language")||"Code":(langName=item.getAttribute("class").split(" ")[1],"plain"!==langName&&void 0!==langName||(langName="Code")),createEle(`<div class="code-lang">${langName}</div>`,item)):createEle("",item)})},addPhotoFigcaption=()=>{GLOBAL_CONFIG.isPhotoFigcaption&&document.querySelectorAll("#article-container img").forEach(item=>{const altValue=item.title||item.alt;if(!altValue)return;const ele=document.createElement("div");ele.className="img-alt is-center",ele.textContent=altValue,item.insertAdjacentElement("afterend",ele)})},runLightbox=()=>{btf.loadLightbox(document.querySelectorAll("#article-container img:not(.no-lightbox)"))},fetchUrl=async url=>{const response=await fetch(url);return await response.json()},runJustifiedGallery=(item,data,isButton=!1,tabs)=>{const dataLength=data.length,ig=new InfiniteGrid.JustifiedInfiniteGrid(item,{gap:5,isConstantSize:!0,sizeRange:[150,600],useTransform:!0}),replaceDq=str=>str.replace(/"/g,"&quot;"),getItems=(nextGroupKey,count)=>{const nextItems=[],startCount=(nextGroupKey-1)*count;for(let i=0;i<count;++i){const num=startCount+i;if(num>=dataLength)break;const item=data[num],alt=item.alt?`alt="${replaceDq(item.alt)}"`:"",title=item.title?`title="${replaceDq(item.title)}"`:"";nextItems.push(`<div class="item">\n            <img src="${item.url}" data-grid-maintained-target="true" ${alt+title} />\n          </div>`)}return nextItems},buttonText=GLOBAL_CONFIG.infinitegrid.buttonText,addButton=item=>{const button=document.createElement("button");button.innerHTML=buttonText+'<i class="fa-solid fa-arrow-down"></i>',button.addEventListener("click",e=>{e.target.closest("button").remove(),btf.setLoading.add(item),appendItem(ig.getGroups().length+1,10)},{once:!0}),item.insertAdjacentElement("afterend",button)},appendItem=(nextGroupKey,count)=>{ig.append(getItems(nextGroupKey,count),nextGroupKey)},maxGroupKey=Math.ceil(dataLength/10);let isLayoutHidden=!1;const completeFn=e=>{if(tabs){const parentNode=item.parentNode;isLayoutHidden&&(parentNode.style.visibility="visible"),0===item.offsetHeight&&(parentNode.style.visibility="hidden",isLayoutHidden=!0)}const{updated:updated,isResize:isResize,mounted:mounted}=e;if(updated.length&&mounted.length&&!isResize){if(btf.loadLightbox(item.querySelectorAll("img:not(.medium-zoom-image)")),ig.getGroups().length===maxGroupKey)return btf.setLoading.remove(item),void(!tabs&&ig.off("renderComplete",completeFn));isButton&&(btf.setLoading.remove(item),addButton(item))}},requestAppendFn=btf.debounce(e=>{const nextGroupKey=(+e.groupKey||0)+1;appendItem(nextGroupKey,10),nextGroupKey===maxGroupKey&&ig.off("requestAppend",requestAppendFn)},300);btf.setLoading.add(item),ig.on("renderComplete",completeFn),isButton?appendItem(1,10):(ig.on("requestAppend",requestAppendFn),ig.renderItems()),btf.addGlobalFn("pjaxSendOnce",()=>{ig.destroy()})},addJustifiedGallery=async(ele,tabs=!1)=>{if(!ele.length)return;const init=async()=>{for(const item of ele){if(btf.isHidden(item)||item.classList.contains("loaded"))continue;const isButton="true"===item.getAttribute("data-button"),children=item.firstElementChild,text=children.textContent;children.textContent="",item.classList.add("loaded");try{const content="url"===item.getAttribute("data-type")?await fetchUrl(text):JSON.parse(text);runJustifiedGallery(children,content,isButton,tabs)}catch(e){console.error("Gallery data parsing failed:",e)}}};"function"==typeof InfiniteGrid?init():(await btf.getScript(`${GLOBAL_CONFIG.infinitegrid.js}`),init())},rightsideScrollPercent=currentTop=>{const scrollPercent=btf.getScrollPercent(currentTop,document.body),goUpElement=document.getElementById("go-up");scrollPercent<95?(goUpElement.classList.add("show-percent"),goUpElement.querySelector(".scroll-percent").textContent=scrollPercent):goUpElement.classList.remove("show-percent")},scrollFn=()=>{const $rightside=document.getElementById("rightside"),innerHeight=window.innerHeight+56;let initTop=0;const $header=document.getElementById("page-header"),isChatBtn="undefined"!=typeof chatBtn,isShowPercent=GLOBAL_CONFIG.percent.rightside,checkDocumentHeight=()=>document.body.scrollHeight<=innerHeight&&($rightside.classList.add("rightside-show"),!0);if(checkDocumentHeight())return;const scrollDirection=currentTop=>{const result=currentTop>initTop;return initTop=currentTop,result};let flag="";const scrollTask=btf.throttle(()=>{const currentTop=window.scrollY||document.documentElement.scrollTop,isDown=scrollDirection(currentTop);isDown&&$header.classList.add("nav-visible","nav-fixed"),currentTop>56?(""===flag&&($header.classList.add("nav-fixed"),$rightside.classList.add("rightside-show")),isDown||"up"!==flag&&($header.classList.add("nav-visible"),isChatBtn&&window.chatBtn.show(),flag="up")):(flag="",0===currentTop&&$header.classList.remove("nav-fixed","nav-visible"),$rightside.classList.remove("rightside-show")),isShowPercent&&rightsideScrollPercent(currentTop),checkDocumentHeight()},300);btf.addEventListenerPjax(window,"scroll",scrollTask,{passive:!0})},scrollFnToDo=()=>{const isToc=GLOBAL_CONFIG_SITE.isToc,isAnchor=GLOBAL_CONFIG.isAnchor,$article=document.getElementById("article-container");if(!$article||!isToc&&!isAnchor)return;let $tocLink,$cardToc,autoScrollToc,$tocPercentage,isExpand;if(isToc){const $cardTocLayout=document.getElementById("card-toc");$cardToc=$cardTocLayout.querySelector(".toc-content"),$tocLink=$cardToc.querySelectorAll(".toc-link"),$tocPercentage=$cardTocLayout.querySelector(".toc-percentage"),isExpand=$cardToc.classList.contains("is-expand");const tocItemClickFn=e=>{const target=e.target.closest(".toc-link");target&&(e.preventDefault(),btf.scrollToDest(btf.getEleTop(document.getElementById(decodeURI(target.getAttribute("href")).replace("#",""))),300),window.innerWidth<900&&$cardTocLayout.classList.remove("open"))};btf.addEventListenerPjax($cardToc,"click",tocItemClickFn),autoScrollToc=item=>{const sidebarHeight=$cardToc.clientHeight,itemOffsetTop=item.offsetTop,itemHeight=item.clientHeight,scrollTop=$cardToc.scrollTop,offset=itemOffsetTop-scrollTop,middlePosition=(sidebarHeight-itemHeight)/2;offset!==middlePosition&&($cardToc.scrollTop=scrollTop+(offset-middlePosition))},$cardToc.style.display="block"}const $articleList=$article.querySelectorAll("h1,h2,h3,h4,h5,h6");let detectItem="";const findHeadPosition=top=>{if(0===top)return!1;let currentId="",currentIndex="";for(let i=0;i<$articleList.length;i++){const ele=$articleList[i];if(!(top>btf.getEleTop(ele)-80))break;{const id=ele.id;currentId=id?"#"+encodeURI(id):"",currentIndex=i}}if(detectItem!==currentIndex&&(isAnchor&&btf.updateAnchor(currentId),detectItem=currentIndex,isToc&&($cardToc.querySelectorAll(".active").forEach(i=>i.classList.remove("active")),currentId))){const currentActive=$tocLink[currentIndex];if(currentActive.classList.add("active"),setTimeout(()=>autoScrollToc(currentActive),0),!isExpand){let parent=currentActive.parentNode;for(;!parent.matches(".toc");)parent.matches("li")&&parent.classList.add("active"),parent=parent.parentNode}}},tocScrollFn=btf.throttle(()=>{const currentTop=window.scrollY||document.documentElement.scrollTop;isToc&&GLOBAL_CONFIG.percent.toc&&($tocPercentage.textContent=btf.getScrollPercent(currentTop,$article)),findHeadPosition(currentTop)},100);btf.addEventListenerPjax(window,"scroll",tocScrollFn,{passive:!0})},handleThemeChange=mode=>{const globalFn=window.globalFn||{},themeChange=globalFn.themeChange||{};themeChange&&Object.keys(themeChange).forEach(key=>{const themeChangeFn=themeChange[key];["disqus","disqusjs"].includes(key)?setTimeout(()=>themeChangeFn(mode),300):themeChangeFn(mode)})},rightSideFn={readmode:()=>{const $body=document.body,newEle=document.createElement("button"),exitReadMode=()=>{$body.classList.remove("read-mode"),newEle.remove(),newEle.removeEventListener("click",exitReadMode)};$body.classList.add("read-mode"),newEle.type="button",newEle.className="fas fa-sign-out-alt exit-readmode",newEle.addEventListener("click",exitReadMode),$body.appendChild(newEle)},darkmode:()=>{const willChangeMode="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";"dark"===willChangeMode?(btf.activateDarkMode(),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(btf.activateLightMode(),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),btf.saveToLocal.set("theme",willChangeMode,2),handleThemeChange(willChangeMode)},"rightside-config":item=>{const hideLayout=item.firstElementChild;hideLayout.classList.contains("show")&&(hideLayout.classList.add("status"),setTimeout(()=>{hideLayout.classList.remove("status")},300)),hideLayout.classList.toggle("show")},"go-up":()=>{btf.scrollToDest(0,500)},"hide-aside-btn":()=>{const $htmlDom=document.documentElement.classList,saveStatus=$htmlDom.contains("hide-aside")?"show":"hide";btf.saveToLocal.set("aside-status",saveStatus,2),$htmlDom.toggle("hide-aside")},"mobile-toc-button":(p,item)=>{const tocEle=document.getElementById("card-toc");tocEle.style.transition="transform 0.3s ease-in-out";const tocEleHeight=tocEle.clientHeight,btData=item.getBoundingClientRect(),tocEleBottom=window.innerHeight-btData.bottom-30;tocEleHeight>tocEleBottom&&(tocEle.style.transformOrigin=`right ${tocEleHeight-tocEleBottom-btData.height/2}px`),tocEle.classList.toggle("open"),tocEle.addEventListener("transitionend",()=>{tocEle.style.cssText=""},{once:!0})},"chat-btn":()=>{window.chatBtnFn()},translateLink:()=>{window.translateFn.translatePage()}};document.getElementById("rightside").addEventListener("click",e=>{const $target=e.target.closest("[id]");$target&&rightSideFn[$target.id]&&rightSideFn[$target.id](e.currentTarget,$target)});const clickFnOfSubMenu=()=>{const handleClickOfSubMenu=e=>{const target=e.target.closest(".site-page.group");target&&target.classList.toggle("hide")},menusItems=document.querySelector("#sidebar-menus .menus_items");menusItems&&menusItems.addEventListener("click",handleClickOfSubMenu)},openMobileMenu=()=>{const toggleMenu=document.getElementById("toggle-menu");toggleMenu&&btf.addEventListenerPjax(toggleMenu,"click",()=>{sidebarFn_open()})},addCopyright=()=>{const{limitCount:limitCount,languages:languages}=GLOBAL_CONFIG.copyright,handleCopy=e=>{e.preventDefault();const copyFont=window.getSelection(0).toString();let textFont=copyFont;return copyFont.length>limitCount&&(textFont=`${copyFont}\n\n\n${languages.author}\n${languages.link}${window.location.href}\n${languages.source}\n${languages.info}`),e.clipboardData?e.clipboardData.setData("text",textFont):window.clipboardData.setData("text",textFont)};document.body.addEventListener("copy",handleCopy)},addRuntime=()=>{const $runtimeCount=document.getElementById("runtimeshow");if($runtimeCount){const publishDate=$runtimeCount.getAttribute("data-publishDate");$runtimeCount.textContent=`${btf.diffDate(publishDate)} ${GLOBAL_CONFIG.runtime}`}},addLastPushDate=()=>{const $lastPushDateItem=document.getElementById("last-push-date");if($lastPushDateItem){const lastPushDate=$lastPushDateItem.getAttribute("data-lastPushDate");$lastPushDateItem.textContent=btf.diffDate(lastPushDate,!0)}},addTableWrap=()=>{const $table=document.querySelectorAll("#article-container table");$table.length&&$table.forEach(item=>{item.closest(".highlight")||btf.wrap(item,"div",{class:"table-wrap"})})},clickFnOfTagHide=()=>{const hideButtons=document.querySelectorAll("#article-container .hide-button");hideButtons.length&&hideButtons.forEach(item=>item.addEventListener("click",e=>{const currentTarget=e.currentTarget;currentTarget.classList.add("open"),addJustifiedGallery(currentTarget.nextElementSibling.querySelectorAll(".gallery-container"))},{once:!0}))},tabsFn=()=>{const navTabsElements=document.querySelectorAll("#article-container .tabs");if(!navTabsElements.length)return;const setActiveClass=(elements,activeIndex)=>{elements.forEach((el,index)=>{el.classList.toggle("active",index===activeIndex)})},handleNavClick=e=>{const target=e.target.closest("button");if(!target||target.classList.contains("active"))return;const navItems=[...e.currentTarget.children],tabContents=[...e.currentTarget.nextElementSibling.children],indexOfButton=navItems.indexOf(target);setActiveClass(navItems,indexOfButton),e.currentTarget.classList.remove("no-default"),setActiveClass(tabContents,indexOfButton),addJustifiedGallery(tabContents[indexOfButton].querySelectorAll(".gallery-container"),!0)},handleToTopClick=tabElement=>e=>{e.target.closest("button")&&btf.scrollToDest(btf.getEleTop(tabElement),300)};navTabsElements.forEach(tabElement=>{btf.addEventListenerPjax(tabElement.firstElementChild,"click",handleNavClick),btf.addEventListenerPjax(tabElement.lastElementChild,"click",handleToTopClick(tabElement))})},toggleCardCategory=()=>{const cardCategory=document.querySelector("#aside-cat-list.expandBtn");if(!cardCategory)return;const handleToggleBtn=e=>{const target=e.target;"I"===target.nodeName&&(e.preventDefault(),target.parentNode.classList.toggle("expand"))};btf.addEventListenerPjax(cardCategory,"click",handleToggleBtn,!0)},switchComments=()=>{const switchBtn=document.getElementById("switch-btn");if(!switchBtn)return;let switchDone=!1;const postComment=document.getElementById("post-comment"),handleSwitchBtn=()=>{postComment.classList.toggle("move"),switchDone||"function"!=typeof loadOtherComment||(switchDone=!0,loadOtherComment())};btf.addEventListenerPjax(switchBtn,"click",handleSwitchBtn)},addPostOutdateNotice=()=>{const{limitDay:limitDay,messagePrev:messagePrev,messageNext:messageNext,position:position}=GLOBAL_CONFIG.noticeOutdate,diffDay=btf.diffDate(GLOBAL_CONFIG_SITE.postUpdate);if(diffDay>=limitDay){const ele=document.createElement("div");ele.className="post-outdate-notice",ele.textContent=`${messagePrev} ${diffDay} ${messageNext}`;const $targetEle=document.getElementById("article-container");"top"===position?$targetEle.insertBefore(ele,$targetEle.firstChild):$targetEle.appendChild(ele)}},lazyloadImg=()=>{window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"}),btf.addGlobalFn("pjaxComplete",()=>{window.lazyLoadInstance.update()},"lazyload")},relativeDate=selector=>{selector.forEach(item=>{item.textContent=btf.diffDate(item.getAttribute("datetime"),!0),item.style.display="inline"})},justifiedIndexPostUI=()=>{const recentPostsElement=document.getElementById("recent-posts");if(!recentPostsElement||!recentPostsElement.classList.contains("masonry"))return;const init=()=>{const masonryItem=new InfiniteGrid.MasonryInfiniteGrid(".recent-post-items",{gap:{horizontal:10,vertical:20},useTransform:!0,useResizeObserver:!0});masonryItem.renderItems(),btf.addGlobalFn("pjaxCompleteOnce",()=>{masonryItem.destroy()},"removeJustifiedIndexPostUI")};"function"==typeof InfiniteGrid?init():btf.getScript(`${GLOBAL_CONFIG.infinitegrid.js}`).then(init)},unRefreshFn=()=>{window.addEventListener("resize",()=>{adjustMenu(!1),mobileSidebarOpen&&btf.isHidden(document.getElementById("toggle-menu"))&&sidebarFn_close()});const menuMask=document.getElementById("menu-mask");menuMask&&menuMask.addEventListener("click",()=>{sidebarFn_close()}),clickFnOfSubMenu(),GLOBAL_CONFIG.islazyload&&lazyloadImg(),void 0!==GLOBAL_CONFIG.copyright&&addCopyright(),GLOBAL_CONFIG.autoDarkmode&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{void 0===btf.saveToLocal.get("theme")&&(e.matches?handleThemeChange("dark"):handleThemeChange("light"))})},forPostFn=()=>{addHighlightTool(),addPhotoFigcaption(),addJustifiedGallery(document.querySelectorAll("#article-container .gallery-container")),runLightbox(),scrollFnToDo(),addTableWrap(),clickFnOfTagHide(),tabsFn()},refreshFn=()=>{initAdjust(),justifiedIndexPostUI(),GLOBAL_CONFIG_SITE.isPost?(void 0!==GLOBAL_CONFIG.noticeOutdate&&addPostOutdateNotice(),GLOBAL_CONFIG.relativeDate.post&&relativeDate(document.querySelectorAll("#post-meta time"))):(GLOBAL_CONFIG.relativeDate.homepage&&relativeDate(document.querySelectorAll("#recent-posts time")),GLOBAL_CONFIG.runtime&&addRuntime(),addLastPushDate(),toggleCardCategory()),GLOBAL_CONFIG_SITE.isHome&&scrollDownInIndex(),scrollFn(),forPostFn(),switchComments(),openMobileMenu()};btf.addGlobalFn("pjaxComplete",refreshFn,"refreshFn"),refreshFn(),unRefreshFn(),window.addEventListener("hexo-blog-decrypt",e=>{forPostFn(),window.translateFn.translateInitialization(),Object.values(window.globalFn.encrypt).forEach(fn=>{fn()})})});